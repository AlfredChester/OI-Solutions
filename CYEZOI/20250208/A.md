摘要：数学，组合，结论

[传送门：https://newoj.cyez.cc:18160/d/problemset/p/438](https://newoj.cyez.cc:18160/d/problemset/p/438)

## 题意

有一列 $n$ 个电子，电子有两种状态：A（量子），B（虚数），一开始都是 A 状态；还有正电荷和负电荷两种电荷。正电子朝右，负电子朝左做速度相同的匀速直线运动，两个电子如果在同一个位置就状态取反，电荷也取反，求最后在左侧能收集到多少 B 电子。

## 分析思路

模拟赛时被击杀了。听了 jzy 大神的讲解茅塞顿开。

先考虑最浅显的暴力，钦定了问号具体是哪种电子来做。

手玩一下发现正电子一直往右，负电子一直向左，相遇可以看作是穿过，然后对状态进行一系列操作。然后发现状态是 A 还是 B 其实只和被交换的次数有关，记 $cnt_i$ 表示第 $i$ 个电子被 swap 的次数，如果交换了两个位置 $x, x + 1$，那么 $cnt_x \gets cnt_x + 1, cnt_{x + 1} \gets cnt_{x + 1} + 1$。最后会有若干个正电子聚集在最左端（记作 $k = pos$ 个），最后答案就是 $\sum_{i = 1}^{pos} cnt_i \bmod 2$。

然后对于有问号的，有一些

## 代码

```cpp
```
